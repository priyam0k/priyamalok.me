<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Musings - Priyam Alok</title>
    <!-- SEO Improvement: Added a meta description -->
    <meta name="description" content="An assorted collection of thoughts and musings on insurance tech, finance, and life by Priyam Alok.">
    <link rel="icon" type="image/png" href="/favicon.png">
    
    <!-- Performance: Preconnect to Google Fonts domains -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <!-- Performance: Load fonts asynchronously to prevent render-blocking -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Source+Serif+4:wght@400;600&family=Source+Sans+3:wght@400;600&display=swap" media="print" onload="this.media='all'">
    <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Source+Serif+4:wght@400;600&family=Source+Sans+3:wght@400;600&display=swap"></noscript>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <style>
        /* Combined styles for better organization */
        body { 
            font-family: 'Source Serif 4', serif; 
            -webkit-font-smoothing: antialiased; 
            -moz-osx-font-smoothing: grayscale; 
        }
        .link-style { 
            color: #d9534f; 
            text-decoration: none; 
            transition: color 0.2s ease-in-out; 
        }
        .link-style:hover { 
            text-decoration: underline; 
            text-decoration-color: #f0c3c2; 
            text-underline-offset: 2px; 
        }
        .nav-link { 
            font-family: 'Source Sans 3', sans-serif; 
            text-decoration: none; 
            transition: color 0.2s ease-in-out; 
            color: #d9534f; 
        }
        .nav-link:hover { 
            color: #bf4340; 
        }
        h1, .page-title, .post-title { 
            font-family: 'Source Sans 3', sans-serif; 
            font-weight: 600; 
        }
    </style>
</head>
<body class="bg-white flex justify-center">

    <div class="max-w-3xl w-full px-4 sm:px-6 lg:px-8 py-16">

        <!-- Header -->
        <header class="pb-10 mb-10 border-b border-gray-200">
            <div class="flex items-start space-x-4">
                <!-- Performance: Added width, height, loading, and decoding attributes to prevent CLS -->
                <a href="/"><img src="/logo.jpg" alt="Priyam Alok" class="w-16 h-16 sm:w-20 sm:h-20 rounded-full object-cover flex-shrink-0" width="80" height="80" loading="lazy" decoding="async" onerror="this.onerror=null;this.src='https://placehold.co/80x80/e2e8f0/334155?text=PA';"></a>
                <div class="flex-grow">
                    <div class="flex justify-between items-center">
                        <div>
                             <!-- Performance: Added width, height, loading, and decoding attributes to prevent CLS -->
                             <a href="/"><img src="/Capturelogo-removebg-preview.png" alt="Priyam Alok Title" class="h-8" width="152" height="32" loading="lazy" decoding="async" onerror="this.onerror=null;this.src='https://placehold.co/200x40/ffffff/1a1a1a?text=Priyam+Alok';"></a> 
                        </div>
                         <nav class="flex items-center space-x-6 text-base">
                            <a href="/" class="nav-link hidden sm:block text-lg">Home</a>
                            <a href="/project.html" class="nav-link hidden sm:block text-lg">Projects</a>
                            <a href="/blog.html" class="nav-link hidden sm:block text-lg">Musings</a>
                        </nav>
                    </div>
                    <p class="text-sm text-gray-500 mt-1">Musings on insurance tech, finance<br>and life</p>
                </div>
            </div>
             <nav class="flex sm:hidden items-center justify-around space-x-4 text-base pt-6 border-t border-gray-200 mt-6">
                <a href="/" class="nav-link text-lg">Home</a>
                <a href="/project.html" class="nav-link text-lg">Projects</a>
                <a href="/blog.html" class="nav-link text-lg">Musings</a>
            </nav>
        </header>

        <!-- Main Content -->
        <main class="text-base leading-relaxed text-gray-800">
            <section class="mb-12">
                <h1 class="page-title text-2xl mb-2 text-black">Musings</h1>
                <p>An assorted collection of thoughts on insurance tech, finance and life. Browse by <a href="/tags.html" class="link-style">tags</a>.</p>
            </section>

            <section id="posts-container" class="space-y-8">
                <!-- A placeholder is shown while posts are loading -->
                <div class="text-center py-10">
                    <p class="text-gray-500">Loading posts...</p>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="mt-12 pt-8 border-t border-gray-200 text-base text-gray-600">
            <p>Find me on <a href="https://www.linkedin.com/in/priyamalok/" target="_blank" rel="noopener noreferrer" class="link-style">linkedin</a>, <a href="https://x.com/priyam0k" target="_blank" rel="noopener noreferrer" class="link-style">twitter(x.com)</a></p>
        </footer>
    </div>
    
    <!-- Performance: Deferred script loading so it doesn't block HTML parsing -->
    <script src="post.js" defer></script>
    <script>
        // This script will run after the HTML is parsed and the deferred post.js is executed.
        document.addEventListener('DOMContentLoaded', function () {
            const postsContainer = document.getElementById('posts-container');
            
            // Ensure posts data is available
            if (typeof posts !== 'undefined' && posts.length > 0) {
                // Clear loading placeholder
                postsContainer.innerHTML = ''; 
                
                posts.forEach((post, index) => {
                    const postElement = document.createElement('article');
                    postElement.className = 'flex flex-col sm:flex-row gap-6';

                    const isExternal = !post.url.startsWith('/') && !post.url.startsWith('blog');
                    const targetAttribute = isExternal ? 'target="_blank" rel="noopener noreferrer"' : '';
                    
                    const dateParts = post.date.replace(',', '').split(' ');
                    const day = dateParts[1];
                    const monthYear = `${dateParts[0]} ${dateParts[2]}`;

                    postElement.innerHTML = `
                        <div class="w-28 text-sm text-gray-500 flex-shrink-0">
                            <p>${day}</p>
                            <p>${monthYear}</p>
                        </div>
                        <div>
                            <h3 class="post-title text-xl mb-1">
                                <a href="${post.url}" class="link-style" ${targetAttribute}>${post.title}</a>
                            </h3>
                            <p class="text-sm text-gray-400 mb-2">${post.source}</p>
                            <p>${post.description}</p>
                        </div>
                    `;
                    
                    postsContainer.appendChild(postElement);

                    // Add a divider, but not after the last post
                    if (index < posts.length - 1) {
                        const hr = document.createElement('hr');
                        hr.className = 'border-gray-200';
                        postsContainer.appendChild(hr);
                    }
                });
            } else {
                 // Show an error if posts couldn't be loaded
                 postsContainer.innerHTML = '<p class="text-center text-gray-600">Could not load posts. Please ensure post.js is available.</p>';
            }
        });
    </script>
</body>
</html>
